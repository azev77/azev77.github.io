---
title: "Simpson's Paradox is a Special Case of Omitted Variable Bias"
date: 2021-04-11
permalink: /posts/2021/04/Simpson-OVB/
tags:
  - Causality
  - Econometrics
  - Statistics
---

The goal of this post is to illustrate a point made in a 
recent [tweet](https://twitter.com/AmitEcon/status/1368990015536119813?s=20) 
by [Amit Ghandi](https://web.sas.upenn.edu/agandhi/) 
that [Simpson's Paradox](https://en.wikipedia.org/wiki/Simpson%27s_paradox) 
is a special case of 
[omitted variable bias](https://en.wikipedia.org/wiki/Omitted-variable_bias).

Let's start with some definitions:
<br/>
**Simpson’s Paradox**: a statistical phenomenon where an association between two variables in a population emerges, disappears or reverses when the population is divided into subpopulations.
<br/>
**Omitted Variable Bias (OVB)**: when a statistical model leaves out one or more variables that is _both_ correlated with the treatment and the outcome. 
<br>
<b>Case Fatality Rate (CFR)</b>: 
the proportion of people who die from a specified disease among all individuals diagnosed with the disease over a certain period of time.


Example: COVID-19 in China versus Italy
======
Let's use an example from 
[How Simpson's paradox explains weird COVID19 statistics](https://www.youtube.com/watch?v=t-Ci3FosqZs). 
(This example is for illustrative purposes only. This post is about interpreting statistics, not COVID-19). 
The video compares those diagnosed with COVID-19 in China and Italy between March and May 2020. 
<br>
<u>CFR by country</u>: people infected with COVID-19 were more likely to die in Italy than China. 
<br>
<u>CFR by country-age group</u>: at each age bracket, people infected with COVID-19 were more likely to die in China than Italy.

Simulate Data
------
Let's illustrate this with a simulation in [the Julia Language](https://julialang.org/).
<br>
The variables are defined in the table below:
<br>
\begin{array} {|r|r|}\hline 0_0 & 0_1 & 0_2 & 0_3 \\ \hline 1_0 & 1_1 & 1_2 & 1_3 \\ \hline 2_0 & 2_1 & 2_2 & 2_3 \\ \hline 3_0 & 3_1 & 3_2 & 3_3 \\ \hline  \end{array}


<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_CHTML-full"></script>
\[
\begin{array}{|c|c|c|}
\hline
  \text{Set} & \text{Operation} & \text{Identity} \\ 
\hline
   \mathbb{Z} & + & 0 \\
\hline
   \mathbb{Q} & + & 0 \\
\hline
   \mathbb{R} & + & 0 \\ 
\hline
   \mathbb{Z} & \times & 1 \\
\hline
   \mathbb{Q} & \times & 1 \\
\hline
   \mathbb{R} & \times & 1 \\ 
\hline
\end{array}
\]
<br>
\begin{table}[]
\begin{tabular}{ll}
Julia                                                            & R                                                                                                                             \\
pdf(Normal(μ,σ),x)                                               & dnorm(x,μ,σ)                                                                                                                  \\
pdf(Truncated(Normal(μ,σ),0,1),x)                                & \begin{tabular}[c]{@{}l@{}}google for a package\\      ...\\      dtrunc(x, spec="norm", a=0, b=1, mean=μ, sd=σ)\end{tabular} \\
MixtureModel({[}Normal(μ1,σ1),   Normal(μ2,σ2){]},{[}1/2,1/2{]}) & \begin{tabular}[c]{@{}l@{}}google for a package\\      …\end{tabular}                                                         \\
pdf(BetaBinomial(n,α,β),x)                                       & \begin{tabular}[c]{@{}l@{}}google for a package\\      …\end{tabular}                                                        
\end{tabular}
\end{table}

